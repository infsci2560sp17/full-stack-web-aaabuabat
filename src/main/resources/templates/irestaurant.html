<!DOCTYPE html>
<html>
    <head>
        <title > iRestaurant  </title>  
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="stylesheet" href="https://www.w3schools.com/lib/w3.css"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway"/>
        <style>
            body,h1 {font-family: "Raleway", sans-serif}
            body, html {height: 100%}
          body {
                background-image: url('https://www.diabetes.ie/wp-content/uploads/2014/10/Recipes.jpg');
                min-height: 100%;
                background-position: center;
                background-size: cover;
            }
        </style>
        <link rel="stylesheet" type="text/css" href="https://www.w3schools.com/lib/w3.css" />
         <style>
            .inline-input { display: inline-block; width: auto; }
        </style>
         <style>
            table tr:nth-child(even) {
                background-color: #eee;
                padding: 5px;
            }
            table tr:nth-child(odd) {
               background-color:#fff;
               padding: 5px;
            }
            table th {
                
                background-color: white;
                color: darkgray;
                padding: 5px
            }
            .flex-container {
            display: -webkit-flex;
            display: flex;  
            -webkit-flex-flow: row wrap;
            flex-flow: row wrap;
            text-align: center;
        }
                
            .flex-container > * {
                padding: 15px;
                -webkit-flex: 1 100%;
                flex: 1 100%;
            }
            
            .article {
                text-align: left;
            }
            
            header {background: black;color:white;}
            footer {background: #aaa;color:white;}
            .nav {background:non;}
            
            .nav ul {
                list-style-type: none;
                padding: 0;
            }
            .nav ul a {
                text-decoration: none;
            }
            
            @media all and (min-width: 768px) {
                .nav {text-align:left;-webkit-flex: 1 auto;flex:1 auto;-webkit-order:1;order:1;}
                .article {-webkit-flex:5 0;flex:5 0px;-webkit-order:2;order:2;}
                footer {-webkit-order:3;order:3;}
            }
        </style>
        <script type="text/javascript" data-th-inline="javascript" th:inline="javascript">
        var ingredientsCount = 0;
        var directionsCount  = 0;
        var kitchenKitCount  = 0;
        
         function addIngredient(event) {
                event.preventDefault();
                ingredientsCount++;
                var row = '<!-- ingredient #' + (ingredientsCount+1) + ' -->' +
                        '<div class="w3-row">' +
                            '<div class="w3-col s2 w3-padding-small">' +
                                '<input class="w3-input w3-border w3-round" type="text" name="ingredients[' + ingredientsCount + '].value" />' +
                            '</div>' +
                            '<div class="w3-col s4 w3-padding-small">' +
                                '<select class="w3-select w3-border w3-round" name="ingredients[' + ingredientsCount + '].unit">' +
                                    '<option value="None" selected="selected">None</option>' +
                                    '<option value="Pinch">Pinch</option>' +
                                    '<option value="Pound">Pound</option>' +
                                    '<option value="Tablespoon">Tablespoon</option>' +
                                    '<option value="Teaspoon">Teaspoon</option>' +
                                    '<option value="Grams">Grams</option>' +
                                    '<option value="Ounce">Ounce</option>' +
                                    '<option value="Cup">Cup</option>' +
                                    '<option value="Dish">Dish</option>' +
                                    '<option value="Gallon">Gallon</option>' +
                                '</select>' +
                            '</div>' +
                            '<div class="w3-col s4 w3-padding-small">' +
                                '<input class="w3-input w3-border w3-round" type="text" name="ingredients[' + ingredientsCount + '].text" />' +
                            '</div>' +
                        '</div>';
                document.getElementById('ingredients').insertAdjacentHTML('beforeend', row);
            }
           
           function addDirection(event) {
                event.preventDefault();
                directionsCount++;
                var row = '<!-- directions #' + (directionsCount+1) + ' -->' +
                        '<div class="w3-row">' +                          
                            '<div class="w3-col w3-padding-small">' +
                                '<input class="w3-input w3-border w3-round" style="width: 40%" type="text" name="directions[' + directionsCount + '].text" />' +
                            '</div>' +
                        '</div>';
                document.getElementById('directions').insertAdjacentHTML('beforeend', row);           
                }
          
          function addKitchenKit(event) {
                event.preventDefault();
                kitchenKitCount++;
                var row = '<!-- kitchenKit #' + (kitchenKitCount+1) + ' -->' +
                        '<div class="w3-row">' +                          
                            '<div class="w3-col w3-padding-small">' +
                                '<input class="w3-input w3-border w3-round" style="width: 40%" type="text" name="kitchenKit[' + kitchenKitCount + '].text" />' +
                            '</div>' +
                        '</div>';
                document.getElementById('kitchenKit').insertAdjacentHTML('beforeend', row);    
        }

    </script>
    </head>

   <body>
  
        <h1 data-th-inline="text">[[${#httpServletRequest.remoteUser}]]'s iRestaurant's!</h1>
        
           <table class="w3-table-all w3-hoverable">
            <tr class="w3-red">
            
                    <th>ID</th>
                    <th>Name</th>
                    <th>Cuisine Type</th>
                    <th>Meal Time</th>
                    <th>Meal Type</th>
                    <th>Recipe</th>
                    <th width="150">Ingredients</th>
                    <th width="150">Directions</th>
                    <th width="150">Kitchen Kit</th>
                    
                </tr>                
                <tr data-th-each="iRestaurant : ${irestaurant}">
                    <td data-th-text="${iRestaurant.id}         "></td>
                    <td data-th-text="${iRestaurant.title}      "></td>
                    <td data-th-text="${iRestaurant.cuisineType}"></td>
                    <td data-th-text="${iRestaurant.mealTime}   "></td>
                    <td data-th-text="${iRestaurant.mealType}   "></td>
                    <td data-th-text="${iRestaurant.description}"></td>
                    <td>
                    <ul> 
                        <li data-th-each="ingredient : ${iRestaurant.ingredients}" data-th-text="|${ingredient.value} ${ingredient.unit} ${ingredient.text}|"></li>
                    </ul>
                </td>
                <td>
                    <ol> 
                        <li data-th-each="direction : ${iRestaurant.directions}" data-th-text="|${direction.text}|"></li>
                    </ol>
                </td>
                <td>
                    <ol> 
                        <li data-th-each="kitchenKit : ${iRestaurant.kitchenKit}" data-th-text="|${kitchenKit.text}|"></li>
                    </ol>
                </td>
                </tr>
            </table>
       
        
        <hr />
        <div class="flex-container">
        <nav class="nav">
        <ul> <li><hr />
        <div class="w3-container w3-black">
            <a data-th-href="@{/files}">Upload The Result of The Recipe</a>
            </div>
        <hr /></li>
               <li> <div class="w3-row ">
        <div class="w3-half w3-card-4">
        <div class="w3-container w3-black">
         Delete Recipe<br />
        </div>

            <form class="w3-container" data-th-action="@{/irestaurant/delete}" name="deleteiRestaurantForm" method="delete">
                        Recipe ID: <input type="text" name="id" /><br />
            <input type="submit" value="Delete Recipe"/>
        </form>
        </div>
        </div></li>
        </ul>
        </nav>
        <article class="article">
        <div class="w3-row">
        <div class="w3-half w3-card-4">
        <div class="w3-container w3-black">
         <center> Add a Recipe<br /></center>
           </div>
        <form class="w3-container" data-th-action="@{/irestaurant/add}" name="addiRestaurantForm" method="post">
          <div class="w3-group"> 
            Title       : <input type="text" name="title" /><br />
            </div>
            <div class="w3-group"> 
            Cuisine Type    :           
            <select name="cuisineType">
                <option value="None" selected="selected">None</option>
                <option value="Indian"> Indian</option>
                <option value="Ozbki"> Ozbki</option>
                <option value="Westren"> Westren</option>
                <option value="Chinese"> Chinese</option>
                <option value="Mediterranean"> Mediterranean</option>

            </select><br />
            </div>
            <div class="w3-group"> 
            Meal Time       :           
            <select name="mealTime">
                <option value="None" selected="selected">None</option>
                <option value="Breakfast"> Breakfast</option>
                <option value="Brunch"> Brunch</option>
                <option value="Lunch"> Lunch</option>
                <option value="Dinner"> Dinner</option>
                <option value="Supper"> Supper</option>
            
            </select><br />
            </div>
            <div class="w3-group"> 
            Meal Type       :           
               <select name="mealType">
                <option value="None" selected="selected">None</option>
                <option value="Appetizer"> Appetizer</option>
                <option value="Salad"> Salad</option>
                <option value="Main_Course"> Main Course</option>
                <option value="Dessert"> Dessert</option>
                <option value="Beverages"> Beverages</option>
            
            </select><br /><br /><br />
            </div>
                 <div class="w3-group" > 
                     <label>Ingredients:</label>
                        <div id="ingredients">
                            <div class="w3-row w3-tiny w3-wide w3-center">
                                <div class="w3-col s2 w3-padding-small">
                                    Quantity
                                </div>
                                <div class="w3-col s4 w3-padding-small">
                                    Unit
                                </div>
                                <div class="w3-col s6 w3-padding-small">
                                    Text
                                </div>
                            </div>
                            <!-- ingredient #1 -->
                            <div class="w3-row">
                                <div class="w3-col s2 w3-padding-small">
                                    <input class="w3-input w3-border w3-round" type="text" name="ingredients[0].value" />
                                </div>
                                <div class="w3-col s4 w3-padding-small">
                                    <select class="w3-select w3-border w3-round" name="ingredients[0].unit">
                                        <option value="None" selected="selected">None</option>
                                        <option value="Pinch">Pinch</option>
                                        <option value="Pound">Pound</option>
                                        <option value="Tablespoon">Tablespoon</option>
                                        <option value="Teaspoon">Teaspoon</option>
                                        <option value="Grams">Grams</option>
                                        <option value="Ounce">Ounce</option>
                                        <option value="Cup">Cup</option>
                                        <option value="Dish">Dish</option>
                                        <option value="Gallon">Gallon</option>
                                    </select>
                                </div>
                                <div class="w3-col s4 w3-padding-small">
                                    <input class="w3-input w3-border w3-round" type="text" name="ingredients[0].text" />
                                </div>
                            </div>
                        </div>
                        <div class="w3-right-align w3-padding-small">
                            <button onclick="addIngredient(event)">More Ingredien</button>
                        </div>
                    </div> 
                    <!-- directions #1 -->
                    <div class="w3-group"> 
                        <label>Directions:</label>
                        <ol id="directions">
                            <li><input class="w3-input w3-border w3-round inline-input" style="width: 40%" type="text" name="directions[0].text" /></li>
                        </ol>
                        <div class="w3-right-align w3-padding-small">
                            <button onclick="addDirection(event)">More Direction</button>
                        </div>
                    </div>
                    <!-- kitchenKit #1 -->
                    <div class="w3-group"> 
                        <label>kitchenKit:</label>
                        <ol id="kitchenKit">
                            <li><input class="w3-input w3-border w3-round inline-input" style="width: 40%" type="text" name="kitchenKit[0].text" /></li>
                        </ol>
                        <div class="w3-right-align w3-padding-small">
                            <button onclick="addKitchenKit(event)">More Kit</button>
                        </div>
                    </div>
            
            <div class="w3-group"> 
            Write Your Description for This Recipe:<br />        
            <textarea name= "description" rows="5" cols="70" placeholder="Write Your Recipe"> </textarea><br /></div>
            
            
            <br /><br /><input type="submit" value="Add Meal"/><br /><br />
        </form>
        </div>
         </div>
       

         
        <hr />       
        <form data-th-action="@{/logout}" method="post">
            <input type="submit" value="Sign Out"/>
        </form>
        </article>
        <footer>INFSCI2560</footer>
        </div>
    </body>
  
</html>